<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        ul {
            position: relative;
            width: 100%;
        }

        li {
            /* padding: 0 3px;*/
            position: absolute;
            box-sizing: border-box;
            display: block;
        }

        img {
            width: 97%;
            margin: 0 auto;
            height: auto;
            display: block;
        }
    </style>
    <script src="js/jquery.min.js"></script>
</head>
<body>
<ul class="flowLayout-box">
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img15.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img16.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img17.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img19.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img16.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img17.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img19.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img16.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img17.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img19.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img23.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img24.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img25.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img26.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img22.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img17.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img19.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img16.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img2.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img20.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img21.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img17.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img19.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img23.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img24.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img25.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img26.jpg" alt=""></li>
    <li class="flowLayout-item"><img class="flowLayout-pic" src="images/img27.jpg" alt=""></li>
</ul>

<script>
    (function ($) {
        $.fn.flowLayout = function (options) {
            var dft = {
                gapHeight: 5, //间歇
                column: 2, //列
                parentDom: '.flowLayout-box'
            };
            var ops = $.extend(dft, options);
            var _this = $(this);
            _this.width((_this.parents('.flowLayout-box').width()) / ops.column)
            var _pWidth = _this.parents('.flowLayout-box').width();
            var columnHeight = [], columnIndex = 0;
            for (var i = 0; i < ops.column; i++) {
                columnHeight.push(0);
            }

            for (var j = 0; j < _this.length; j++) {
                $(_this).eq(j).css({
                    'top': columnHeight[columnIndex] + ops.gapHeight + 'px',
                    'left': _pWidth * columnIndex / ops.column + 'px',
                })
                columnHeight[columnIndex] += $(_this).eq(j).height() + ops.gapHeight
                columnIndex = getIndex();
            }

            function getIndex() {
                var columnIndex = 0, maxHeight = 0;
                for (var i = 0; i < columnHeight.length; i++) {
                    if (columnHeight[i] < columnHeight[columnIndex]) {
                        columnIndex = i;
                    }
                    if (columnHeight[i] > maxHeight) {
                        maxHeight = columnHeight[i]
                    }
                }
                $(".flowLayout-box").css({
                    'height': maxHeight
                });
                return columnIndex;
            }
        }
    })(jQuery);

    $(function () {
        $('.flowLayout-box li').flowLayout({
            gapHeight: 5, //间歇
            column: 2 //列
        });
    })
</script>
</body>
</html>